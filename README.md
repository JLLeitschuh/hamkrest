HamKrest - Hamcrest for Kotlin
==============================

A reimplementation of Hamcrest to take advantage of [Kotlin](https://kotlinlang.org/) language features.

[![Kotlin](https://img.shields.io/badge/kotlin-1.2.60-blue.svg)](http://kotlinlang.org)
[![Build Status](https://travis-ci.org/npryce/hamkrest.svg?branch=master)](https://travis-ci.org/npryce/hamkrest)
[![Maven Central](https://img.shields.io/maven-central/v/com.natpryce/hamkrest.svg)](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.natpryce%22%20AND%20a%3A%22hamkrest%22)

Note: as of version 1.4.0.0, you must add kotlin-reflect to the classpath to use HamKrest's reflective features.


Compared to Java:

 * Kotlin's type system means that developers don't have to worry about getting the variance of generic signatures right.  Variance is defined on the abstract Matcher type and Kotlin makes sure composition and subtyping work together the way you expect.
 
 * Syntactic sugar. You can negate a matcher with the ! operator and compose matchers with infix `and` and `or` functions:

    ``` kotlin
    import com.natpryce.hamkrest.assertion.assert
          
    ...
          
    assert.that("xyzzy", startsWith("x") and endsWith("y") and !containsSubstring("a"))
    ```
    
 * Easier to extend. You can convert named unary predicates into matchers.

    ``` kotlin
    val isBlank = Matcher(String::isBlank)
    
    assert.that(input, isBlank)
    ```

   As a shortcut, you can pass named functions to the `assert.that`, `and`, `or` and many other functions that take a matcher.

    ``` kotlin
    assert.that(input, String::isBlank)
    ```

   You can also convert a named binary predicate and the second argument to a matcher for first argument, which works well for extension methods.

    ``` kotlin
    fun String.hasLength(n: Int): Boolean = this.length == n

    val isTheRightLength = Matcher(String::hasLength, 8)

    assert.that(secretCode, isTheRightLength)
    ```

   You can use function and property references to match features of a value:

   ``` kotlin
   val isLongEnough = has(String::length, greaterThan(8))

   assert.that(password, isLongEnough)
   ```

   All of these shortcuts produce good, human-readable diagnostics.

   You can customise how diagnostics are generated by creating a project-specific `assert` object.
